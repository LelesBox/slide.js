!function(e){function t(e){dom.isReady?(n(e.id,e.params,e.isNewtag||!1,e.interval||3,e.infinite||!1,g),g++):e.ready?(n(e.id,e.params,e.isNewtag||!1,e.interval||3,e.infinite||!1,g),g++):dom.Ready(function(){n(e.id,e.params,e.isNewtag||!1,e.interval||3,e.infinite||!1,g),g++})}function n(e,t,n,a,o,v){function h(){I&&clearInterval(I),I=setInterval(function(){B.click(),p.clientWidth!=x&&(x=p.clientWidth,w.style.width=x*g+"px",i(E,function(e){e.setAttribute("style","height:"+b+"px;width:"+x+"px")}))},1e3*a)}var g=t.length,p=document.getElementById(e),b=p.clientHeight,x=p.clientWidth;if(!b||!x)throw new Error("container of "+e+" should be with explicit height and width (父容器需要明确的高和宽)");if(o){p.innerHTML="<div class='slide'><a class='slide-banner-btn slide-btn-prev' slide-index='"+v+"'><i></i></a><a class='slide-banner-btn slide-btn-next' slide-index='"+v+"'><i></i></a><ul class='slidelist' slide-index='"+v+"'>"+l(v,t,!0)+"</ul><ul class='slide-dots' slide-index='"+v+"'>"+s("<li class='slide-dot' slide-index='"+v+"'></li>",g)+"</ul></div>";var w=d("slidelist","slide-index",v);w.style.width=100*(g+1)+"%",w.style.left="-100%",w.style["-webkit-transition"]="all 0 ease 0",w.style.transition="all 0 ease 0"}else p.innerHTML="<div class='slide'><a class='slide-banner-btn slide-btn-prev' slide-index='"+v+"'><i></i></a><a class='slide-banner-btn slide-btn-next' slide-index='"+v+"'><i></i></a><ul class='slidelist' slide-index='"+v+"'>"+l(v,t)+"</ul><ul class='slide-dots' slide-index='"+v+"'>"+s("<li class='slide-dot' slide-index='"+v+"'></li>",g)+"</ul></div>",w=d("slidelist","slide-index",v),w.style.width=100*g+"%";var E=r("slide-img","slide-index",v);i(E,function(e,t){e.setAttribute("style","height:"+b+"px;width:"+x+"px")}),y.addHandler(w,"click",function(e){e=y.getEvent(e);var t=y.getTarget(e),i=t.getAttribute("href");"undefined"!==i&&(console.log(i),c(i,"http")||(i="http://"+i),n?window.open(i):window.open(i,"_self"))});var L=r("slide-banner-btn","slide-index",v),C=!0;i(L,function(e,t,n){e.onmouseover=function(){C=!1,R&&i(L,function(e,t,n){e.style.opacity="0.7"})},e.onmouseout=function(){C=!0}});var R=!0;w.onmouseover=function(){R=!1,i(L,function(e,t,n){e.style.opacity="0.3"})},w.onmouseout=function(){R=!0,C&&i(L,function(e,t,n){e.style.opacity="0"})};var M=d("slide-dots","slide-index",v),k=-(18*g)/2;M.style.margin="0 0 0 "+k+"px";var A=r("slide-dot","slide-index",v),T=0;i(A,function(e,t){e.onclick=function(){if(o){var e=f(T,g);t>e?T-=u(e,t,w,j):e>t&&(T-=u(e,t+g,w,j))}else w.style.left=100*-t+"%",T=-t;i(A,function(e,n){e.style.background=n==t?"white":"gray"})}});var H=d("slide-btn-prev","slide-index",v),B=d("slide-btn-next","slide-index",v),N=!0,j=o?m(w):null;B.onclick=function(){if(o){if(N){N=!1,T-=u(0,1,w,j,function(){N=!0});var e=f(T,g);i(A,function(t,n){t.style.background=e==n?"white":"gray"})}}else{T--;var e=Math.abs(T%g);i(A,function(t,n){t.style.background=e==n?"white":"gray"}),w.style.left=100*-e+"%"}},H.onclick=function(){if(o){if(N){N=!1,T-=u(1,0,w,j,function(){N=!0});var e=f(T,g);i(A,function(t,n){t.style.background=e==n?"white":"gray"})}}else{T++;var e=Math.abs(T%g);i(A,function(t,n){t.style.background=e==n?"white":"gray"}),w.style.left=100*-e+"%"}},h();var I}function i(e,t){for(var n=0;n<e.length;n++)t(e[n],n,e)}function s(e,t){return new Array(t+1).join(e)}function l(e,t,n){for(var i="",s=t.length,l=0;s>l;l++)i+="<li class='slidelist-card'><img class='slide-img' href='"+t[l].href+"' src='"+t[l].src+"' slide-index='"+e+"'></img></li>";return n&&(i="<li class='slidelist-card'><img class='slide-img' href='"+t[s-1].href+"' src='"+t[s-1].src+"' slide-index='"+e+"'></img></li>"+i),i}function d(e,t,n){for(var i=document.getElementsByClassName(e),s=0;s<i.length;s++)if(i[s].getAttribute(t)==n)return i[s];return null}function r(e,t,n){for(var i=document.getElementsByClassName(e),s=[],l=0;l<i.length;l++)i[l].getAttribute(t)==n&&s.push(i[l]);return 0!=s.length?s:null}function a(){var e=document.getElementsByTagName("script"),t=/.*?slide.js$/,n=/.*?slide.min.js$/;i(e,function(e){var i=e.getAttribute("src");if(t.test(i)){var s=i.substr(0,i.indexOf("slide.js"));return void o(s+"slide.css")}if(n.test(i)){var s=i.substr(0,i.indexOf("slide.min.js"));return void o(s+"slide.min.css")}})}function o(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e);var n=document.getElementsByTagName("head")[0];n.appendChild(t)}function c(e,t,n){var i=e.substr(0,t.length);return n?i.toLowerCase()===t.toLowerCase():i===t}function u(e,t,n,i,s){var l=t-e,d=Math.abs(l),r=100,a=setInterval(function(){if(r+=100*l/20,r>=100*(d+1)||0>=r){if(clearInterval(a),l>0)for(var e=0;d>e;e++)v(n,i,"next");else for(var e=0;d>e;e++)v(n,i,"prev");n.style.left="-100%",s?s():null}else n.style.left=-r+"%"},10);return l}function f(e,t){var n;return n=e>=0?t-(Math.abs(e%t)||t):Math.abs(e%t)}function v(e,t,n){if("next"==n){e.removeChild(e.firstChild);var i=document.createElement("li");i.setAttribute("class","slidelist-card"),i.innerHTML=t[1].innerHTML,e.appendChild(i),t.push(t[1]),t.shift()}else if("prev"==n){e.removeChild(e.lastChild);var i=document.createElement("li");i.setAttribute("class","slidelist-card"),i.innerHTML=t[t.length-2].innerHTML,e.insertBefore(i,e.firstChild),t.unshift(t[t.length-2]),t.pop()}}function m(e){for(var t=e.childNodes,n=[],i=0;i<t.length;i++)1==t[i].nodeType&&n.push(t[i]);return n}!new function(){dom=[],dom.isReady=!1,dom.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},dom.Ready=function(e){dom.initReady(),dom.isFunction(e)&&(dom.isReady?e():dom.push(e))},dom.fireReady=function(){if(!dom.isReady){dom.isReady=!0;for(var e=0,t=dom.length;t>e;e++){var n=dom[e];n()}dom.length=0}},dom.initReady=function(){document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),dom.fireReady()},!1):document.getElementById&&(document.write('<script id="ie-domReady" defer=\'defer\'src="//:"></script>'),document.getElementById("ie-domReady").onreadystatechange=function(){"complete"===this.readyState&&(dom.fireReady(),this.onreadystatechange=null,this.parentNode.removeChild(this))})}},a();var h={};h.dom=dom,h.createSlide=t,e.slide=h;var g=1,y={addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},getEvent:function(e){return e?e:window.event},getTarget:function(e){return e.target||e.srcElement},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}}(this),"function"==typeof define&&define.amd&&define("slide",[],function(){return slide});